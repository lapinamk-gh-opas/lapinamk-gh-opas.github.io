<section class="secrets">
  <header>
    <h1>Salaisuuksien ja tiedostojen suojaaminen</h1>
  </header>

  <p>
    Kuten edellisessä osiossa mainittiin, GitHub-repositorioon ei saa lisätä
    arkaluontoisia tietoja. Tällaiset tiedot voivat joutua vääriin käsiin ja
    vaarantaa projektin turvallisuuden. Käytä sen sijaan
    <em>.gitignore</em>
    -tiedostoa sulkemaan pois tietyt tiedostot versionhallinnasta ja hyödynnä
    ympäristömuuttujia (
    <em>environment variables</em>
    ) luottamuksellisten tietojen tallentamiseen.
  </p>

  <h4>.gitignore-tiedoston käyttö</h4>
  <p>
    <em>.gitignore</em>
    -tiedosto määrittelee, mitkä tiedostot tai kansiot Gitin tulee jättää
    huomioimatta. Sinne lisätään yleensä tiedostoja, joita ei tarvita tai haluta
    versionhallintaan, kuten käännöstiedostoja, riippuvuuksia ja paikallisia
    konfiguraatioita. .gitignore-tiedosto kirjoitetaan yksinkertaisella
    tekstimuotoisella kielellä, jossa jokainen rivi määrittää tiedoston tai
    kansion, joka halutaan sulkea pois versionhallinnasta.
  </p>
  <p>
    Esimerkki yksinkertaisesta
    <em>.gitignore</em>
    -tiedostosta:
  </p>
  <pre>
    <code>
        .env
        node_modules/
        dist/
        build/
        *.log
    </code>
  </pre>
  <br />

  <p>
    Voit luoda
    <em>.gitignore</em>
    -tiedoston manuaalisesti tai käyttää valmiita malleja, joita löytyy
    esimerkiksi
    <a href="https://github.com/github/gitignore" target="_blank">
      GitHubin gitignore-mallivarastosta
    </a>
    .
  </p>

  <h4>
    Ympäristömuuttujat (
    <em>environment variables</em>
    )
  </h4>
  <p>
    Ympäristömuuttujat tarjoavat turvallisen tavan tallentaa arkaluontoisia
    tietoja erillään koodista. Ne voidaan määrittää paikallisesti
    kehitysympäristössä tai palvelimella, jossa sovellus ajetaan. Yleinen
    käytäntö on tallentaa ne
    <em>.env</em>
    -tiedostoon, joka on suljettu pois versionhallinnasta
    <em>.gitignore</em>
    -tiedoston avulla.
  </p>

  <p>
    Jos lisäät vahingossa arkaluontoisen tiedon, kuten salasanan tai
    API-avaimen, GitHub-repositorioon, poista tiedosto heti ja
    <strong>mitätöi kyseinen avain tai vaihda salasana välittömästi</strong>
    .
  </p>
  <p>
    Jos kyseessä on harjoitusprojekti, helpoin ja turvallisin ratkaisu on
    poistaa koko repositorio ja luoda se uudelleen ilman arkaluontoisia
    tiedostoja. Näin varmistat, ettei tieto jää historiaan. Jos taas kyseessä on
    tuotantoprojekti, pyydä apua kokeneemmalta koodarilta ja perehdy GitHubin
    virallisiin
    <a
      href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/removing-sensitive-data-from-a-repository"
      target="_blank"
    >
      ohjeisiin datan poistamisesta
    </a>
    .
  </p>

  <h4>Secret Protection</h4>
  <p>
    GitHubin Secret Protection -ominaisuus havaitsee ja ilmoittaa
    automaattisesti, jos API-avaimet tai muut salaisuudet päätyvät vahingossa
    koodiin. Kun Secret Protection on käytössä, GitHub tarkistaa automaattisesti
    koodisi ja ilmoittaa, jos se havaitsee mahdollisia salaisuuksia. Voit myös
    määrittää säännöt, jotka estävät tiettyjen tiedostotyyppien tai
    merkkijonojen lisäämisen repositorioon. Voit ottaa tämän ominaisuuden
    käyttöön omassa repositoriossasi kohdasta
    <em>Settings → Advanced Security</em>
    .
  </p>

  <p class="note-box">
    <strong>Vinkki:</strong>
    Käytä GitHubin Secret Protection -ominaisuutta yhdessä Dependabotin ja
    CodeQL:n kanssa parantaaksesi projektisi turvallisuutta entisestään.
  </p>
</section>
