<section class="introduction">
  <header>
    <h1>Pull Requestin perusteet</h1>
  </header>

  <p>
    <em>Pull Request</em> (PR) on GitHubin ominaisuus, jonka avulla voit ehdottaa muutoksia
    projektiin. Se on käytännössä pyyntö yhdistää omassa haarassasi tehdyt muutokset toiseen
    haaraan, yleensä päähaaraan (<em>main</em>).
  </p>

  <p>
    PR luodaan, kun olet tehnyt omassa haarassasi valmiin kokonaisuuden, esimerkiksi uuden
    ominaisuuden, korjauksen tai päivityksen, ja haluat ehdottaa sen lisäämistä pääprojektiin. Se on
    erityisen tärkeä tiimityössä, koska sen avulla muut voivat tarkistaa tehdyt muutokset ja
    varmistaa, etteivät ne riko olemassa olevaa koodia ennen mergeämistä.
  </p>

  <p> Pull requestin voi luoda helpoiten suoraan GitHubin verkkosivun kautta. </p>

  <figure>
    <img class="wide-image" src="/assets/images/teamwork/flow.webp" alt="Git haaramalli" />
    <figcaption>Git workflow kehityshaaran hallintaan tiimityössä</figcaption>
  </figure>

  <p>
    Pull request näyttää selkeästi, mitä tiedostoja on muokattu ja miten koodi eroaa päähaarasta.
    Sen avulla voidaan myös keskustella muutoksista, kommentoida rivejä ja pyytää parannuksia ennen
    hyväksyntää.
  </p>

  <p>
    Kun kaikki on tarkistettu ja hyväksytty, pull request voidaan yhdistää (<em>merge</em>)
    kohdehaaraan. Tämä auttaa varmistamaan, että koodin laatu pysyy korkeana ja kaikki muutokset
    tulevat dokumentoiduiksi.
  </p>

  <p>
    Repositorion asetuksista voidaan myös ottaa käyttöön <em>haarasuojaus</em> (<em
      >branch protection rule</em
    >), jonka avulla voidaan esimerkiksi vaatia, että päähaaraan (<em>main</em>) ei voi tehdä suoria
    muutoksia, vaan kaikki päivitykset on tehtävä pull requestin kautta. Asetuksista voi lisäksi
    määrittää muita ehtoja, kuten että pull requestille täytyy tehdä koodikatselmointi ja hyväksyä
    muutokset vähintään yhden muun tiimiläisen toimesta, ennen kuin se voidaan yhdistää.
  </p>

  <!--Accordion starts-->
  <div
    class="accordion"
    data-include="../../accordion-element/accordion.html"
    data-title="Koodikatselmointi (Code Review)">
    <!-- Reused accordion content starts -->
    <div class="contentToAccordion">
      <p>
        Koodikatselmointi tarkoittaa toisen kehittäjän tekemää muutosten läpikäyntiä Pull
        Requestissa ennen niiden yhdistämistä päähaaraan. Tavoitteena on parantaa koodin laatua,
        yhtenäisyyttä ja turvallisuutta sekä jakaa tietoa tiimin sisällä.
      </p>

      <ul>
        <li>
          <strong>Tarkistettavia seikkoja:</strong> selkeys, tyyli, testit, suorituskyky ja
          turvallisuus
        </li>
        <li>
          <strong>Katselmoinnin tavoitteet:</strong> löytää virheet varhain, yhdenmukaistaa koodi ja
          parantaa koodin tuntemusta
        </li>
        <li>
          <strong>Hyvä palaute:</strong> rakentavaa, perusteltua, ehdottaa parannuksia ja ei
          syyllistä.
        </li>
      </ul>

      <ul>
        <li>
          <strong>PR:n tekijän</strong>on hyvä kirjoittaa selkeät kuvaukset ja kommentoinnit sekä
          pitää muutokset kohtuullisen pieninä.
        </li>
        <li>
          <strong>Katselmoijan</strong> kannalta on tärkeää antaa konkreettisia, selkeitä
          kommentteja ja tarvittaessa ehdottaa vaihtoehtoja.
        </li>
      </ul>
      <p>
        Katselmointi ei ole kilpailu, vastakkainasettelua tai henkilökohtaista. Se on tilaisuus
        mennä kohti yhteistä tavoitetta eli parempaa lopputulosta. Koodikatselmoinnin tarkoitus ei
        ole arvioida kehittäjää, vaan itse koodia ja auttaa tekemään siitä parempaa.
      </p>
    </div>
    <!-- Reused accordion content ends -->
  </div>
  <!-- Accordion ends-->

  <p class="note-box">
    Pull requestia voi hyödyntää myös yksin työskennellessä, sillä se auttaa seuraamaan muutoksia ja
    dokumentoimaan kehitystä.
  </p>
</section>
