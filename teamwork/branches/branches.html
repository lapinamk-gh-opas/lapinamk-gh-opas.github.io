<section class="branches">
  <header>
    <h1>Git-haarojen perusteet</h1>
  </header>

  <p>
    Helpoin tapa aloittaa Gitin käyttö on työskennellä
    <strong>suoraan päähaarassa</strong>
    (
    <em>main</em>
    ). Tällöin kaikki muutokset tehdään samaan haaraan. Muutokset kannattaa
    pitää pieninä ja commitoida ne säännöllisesti, jotta historia pysyy selkeänä
    ja luotettavana. Usein Gitin opettelu aloitetaan näin ennen siirtymistä
    erillisten kehityshaarojen käyttöön.
  </p>

  <p>
    Haarat (tuttavallisemmin
    <em>branchit</em>
    ) ovat Gitin keskeinen ominaisuus, joka mahdollistaa
    <strong>samanaikaisen kehitystyön</strong>
    ilman, että päähaara (
    <em>main</em>
    ) häiriintyy. Päähaarasta voidaan
    <em>forkata</em>
    eli haarauttaa erillinen
    <em>kehityshaara</em>
    (feature branch). Kehityshaarassa voidaan tehdä muutoksia, kokeilla uusia
    ominaisuuksia tai korjata bugeja ilman, että ne vaikuttavat suoraan
    päähaaraan.
  </p>

  <figure>
    <img
      class="wide-image"
      src="/assets/images/teamwork/flow.webp"
      alt="Git haaramalli"
    />
    <figcaption>Git workflow kehityshaaran hallintaan tiimityössä</figcaption>
  </figure>
  <h3>Workflow kehityshaaran hallintaan</h3>
  <ol>
    <li>
      Luo erillinen kehityshaara
      <em>mainista</em>
      ja nimeä se kuvaavasti (esim. login), jotta muutokset pysyvät erillään
      päähaarasta
      <code>git checkout -b login</code>
    </li>
    <li>
      Tee muutokset ja commitoi ne pienissä paloissa selkeillä viesteillä.
      Muista myös testata, että muutos toimii tuotantoa vastaavassa ympäristössä
      <code>git push origin login</code>
    </li>
    <li>
      Avaa pull request
      <em>GitHub-portaalissa</em>
      selaimessa, kuvaa mitä teit ja miksi
    </li>
    <li>Keskustele tiimin kanssa ja tee tarvittavat muutokset</li>
    <li>
      Hanki hyväksyntä ja yhdistä main-haaraan
      <code>git merge login</code>
    </li>
    <li>
      Poista haara, jotta ympäristö pysyy hallittuna
      <code>git branch -d login</code>
    </li>
  </ol>
  <p>
    Tarkemmat selitykset koodeista voit katsoa kappaleesta
    <a href="/basics/basic-commands.html#introduction">
      Perusteet / 1.3 Keskeiset komennot
    </a>
  </p>

  <div
    class="accordion"
    data-include="../../accordion-element/accordion.html"
    data-title="Git-haarojen plussat ja miinukset">
    <div class="contentToAccordion">
      <table class="pros-cons-table">
        <thead>
          <tr>
            <th>Plussat</th>
            <th>Miinukset</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              Jokainen tiimin jäsen voi työskennellä omassa haarassaan ilman,
              että muiden työ keskeytyy
            </td>
            <td>
              Haarojen hallinta vaatii kurinalaisuutta: selkeät nimet,
              säännöllinen päivittäminen ja turhien haarojen poistaminen
            </td>
          </tr>
          <tr>
            <td>
              Useiden ominaisuuksien kehitys onnistuu rinnakkain, mikä lisää
              tuottavuutta ja vähentää konflikteja
            </td>
            <td>
              Yhdistäminen (merge) voi aiheuttaa konflikteja, jotka on
              ratkaistava huolellisesti ennen jatkamista
            </td>
          </tr>
          <tr>
            <td>
              Koodin tarkastaminen ja hyväksyntä onnistuvat pull requestien
              kautta ennen kuin muutokset tulevat päähaaraan
            </td>
            <td>Liian monien haarojen käyttö voi tehdä projektin rakenteesta
              sekavan ja vaikeuttaa kokonaisuuden hallintaa</td>
          </tr>
          <tr>
            <td>
              Haarat tarjoavat turvallisen testiympäristön, jossa uusia ideoita
              voi kokeilla ilman päähaaran rikkomisen riskiä
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <p>
    Yhteenvetona voidaan todeta, että haarat ovat
    <strong>välttämätön työkalu</strong>
    tehokkaaseen tiimityöhön Gitin kanssa. Ne mahdollistavat joustavan ja
    järjestelmällisen kehitystyön, tehostavat työntekoa ja edistävät yhteistyötä
    tiimin jäsenten välillä.
  </p>

  <p class="note-box">
    <strong>Vinkki!</strong>
    Muista hyödyntää sivupalkin muistilistoja tarpeen mukaan!
  </p>
</section>