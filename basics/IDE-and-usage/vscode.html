<section class="git-install">
  <header>
    <h1>Gitin käyttö Visual Studio Codella</h1>
    <p>
      Tällä sivulla käsitellään Gitin käyttöä Microsoftin kehittämällä
      koodieditorilla <strong>Visual Studio Codella</strong> (tai lyhyemmin
      <strong>VS Codella</strong>). Haitari elementistä voit katsoa tarvittaessa
      ohjeet GitHubin käyttöönottoon editorille.
    </p>
    <div
      class="accordion"
      data-include="../../accordion-element/accordion.html"
      data-title="Gitin ja GitHubin käyttöönotto VS Codessa"
    >
      <div class="contentToAccordion">
        <p class="keep-margin">
          Gitin ja GitHubin käyttöönottamiseksi VS Codessa et tarvitse tehdä
          <a href="/basics/git-install.html">1.4 käyttöönotto</a> osiossa
          tehtyjen toimien lisäksi valttämättä yhtään mitään muuta. Kuitenkin
          kirjautumalla sisään GitHub tilillesi VS Codella saat käyttöösi mm. VS
          Coden asetusten varmuuskopioinnin, GitHub Copilotin, yms. GitHub
          liitännäisiä.
        </p>
        <strong>Kirjautminen tapahtuu seuraavasti:</strong>
        <ol>
          <li>
            Klikkaa vasemmalta alhaalta <strong>Accounts</strong> kuvaketta
            <br />
            Valitse <strong>Backup and Synch Settings...</strong><br />

            Valitse mitä asetuksia haluat syncronoida ja klikka
            <strong>Sign in</strong>

            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 18.webp"
                alt="Asetuksien syncronoinnin ja varmuuskopioinnin kytkeminen päälle."
              />
              <figcaption>
                Asetuksien syncronoinnin ja varmuuskopioinnin kytkeminen päälle.
              </figcaption>
            </figure>
          </li>
          <li>
            Valitse kirjautumiseen käytettävä tili klikkaamalla
            <strong>Sign in with GitHub</strong>

            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 19.webp"
                alt="Kirjautumiseen käytettävän tilin valinta"
              />
              <figcaption>Kirjautumiseen käytettävän tilin valinta.</figcaption>
            </figure>
            <div class="note-box">
              <ul>
                <li class="warning">
                  Mikäli sinulla on jo GitHub auki selaimessa ja olet kirjatunut
                  sisään, voit siirtyä suoraan kohtaan:
                  <strong>6. Käytettävän tilin valinta</strong>.
                </li>
              </ul>
            </div>
          </li>
          <li>
            Syötä aukeavaan selainikkunaan GitHub-tilin
            <strong>käyttäjänimi</strong> tai <strong>sähköposti</strong> ja
            <strong>salasana</strong>
            <strong></strong>
            <br />

            Klikkaa
            <strong>Sign in</strong>

            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 20.webp"
                alt="Kirjautuminen GitHubiin"
              />
              <figcaption>Kirjautuminen GitHubiin.</figcaption>
            </figure>
          </li>
          <li>
            Anna kaksivaiheisen tunnistautumisen avainkoodi
            tunnistautumissovelluksestasi <br />

            Klikkaa
            <strong>Verify</strong>

            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 21.webp"
                alt="Näkymö kaksivaiheinen tunnistautuminen"
              />
              <figcaption>Kaksivaiheinen tunnistautuminen.</figcaption>
            </figure>
          </li>
          <li>
            Lisää halutessasi passkey tai klikkaa
            <strong>Ask me later</strong>
            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 22.webp"
                alt="Passkeyn lisääminen tai ohitus"
              />
              <figcaption>Passkeyn lisääminen tai ohitus.</figcaption>
            </figure>
          </li>
          <li>
            Valitse käytettävä tili klikkaamalla
            <strong>Continue</strong> käyttäjänimen vierestä

            <p class="note-box">
              Mikäli sinulla oli GitHub avoinna selaimessa ja olit jo valmiiksi
              kirjautuneena sinne sisään ja jos sinulla on kaksivaiheinen
              tunnistautuminen käytössä saattaa GitHub tämän vaiheen jälkeen
              pyytää vielä syöttämään tunnistautumissovelluksen avainkoodin
              (kts. kohta 4).
            </p>

            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 23.webp"
                alt="Tilin valinnan vahvistus"
              />
              <figcaption>Tilin valinnan vahvistus.</figcaption>
            </figure>
          </li>
          <li>
            Anna VS Codelle lupa päästä GitHub-tilillesi klikkaamalla
            <strong>Authorize Visuals-Studio-Code</strong>

            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 24.webp"
                alt="Luvan antaminen VS Codelle"
              />
              <figcaption>Luvan antaminen VS Codelle.</figcaption>
            </figure>
          </li>
          <li>
            Siirry takaisin VS Codeen klikkaamalla
            <strong>Avaa Visuals-Studio-Code</strong>

            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 25.webp"
                alt="Siirtyminen takaisin VS Codeen"
              />
              <figcaption>Siirtyminen takaisin VS Codeen.</figcaption>
            </figure>
          </li>
          <li>
            Halutessasi ota Copilot käyttöön ja asenna tarvittavat liitännäiset

            <ul>
              <li>Klikkaa ensin <strong>Finnish Setup</strong></li>
              <li>Valitse sitten <strong>Set up Copilot</strong></li>
            </ul>

            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 26.webp"
                alt="GitHub Copiltin käyttöönotto"
              />
              <figcaption>GitHub Copiltin käyttöönotto.</figcaption>
            </figure>
          </li>
        </ol>
      </div>
    </div>
    <p>
      Osiossa luodaan edellisen sivun malliin editorin avulla jälleen tiedosto
      ja repositorio sekä viedään se sammaan, edelisessä osiossakin käytettyyn,
      etärepositorioon, mutta käytetään tälle osiolle omaa haaraansa. Gitin
      käyttöön VS Coden terminaalista voit hyödyntää edellisen sivun ohjeita.
    </p>
    <!-- Accordion element with reused content starts -->
    <div
      class="accordion"
      data-include="/accordion-element/accordion.html"
      data-title="Mistä repositoriot ja sen URL-osoite löytyvät GitHubissa?"
    >
      <div
        class="contentToAccordion reused-accordion"
        data-include="/reused-accordion-content/repository-and-url.html"
      >
        <!-- Accordion content starts from /reused-accordion-content/repository-and-url.html-->
      </div>
    </div>
    <!-- Reusable accordion element ends -->
    <p>
      Huomiona mainittakoon, että VS Code tarjoaa mahdollisuuksia tehdä Git
      toimintoja usealla eri tavalla. Jotkin toiminnoista voi tehdä
      mahdollisesti myös toisella tapaa, ehkäpä jopa paremmin sekä tehokkaammin
      kuin mitä ohjeessa on esitetty.
    </p>
  </header>

  <ol class="edit-number sections">
    <li>
      <h6>Luo uusi kansio testausta varten</h6>
      <ul>
        <li>Klikkaa <strong>Open Folder</strong>.</li>
        <li>
          Navigoi haluamaasi kansioon ja klikkaa <strong>Uusi kansio</strong>.
        </li>
        <li>Anna kansiolle nimi ja klikka <strong>Valitse kansio</strong>.</li>
      </ul>
      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 1.webp"
          alt="Uuden kansion luominen ja valitseminen"
        />
        <figcaption>Uuden kansion luominen ja valitseminen</figcaption>
      </figure>

      <!-- Accordion element starts -->
      <div
        class="accordion"
        data-include="../../accordion-element/accordion.html"
        data-title="Do you trust the authors of the files in this folder? -varoitus"
      >
        <div class="contentToAccordion">
          <!-- Accordion content starts -->
          <ul>
            <li>
              Jos tiedät, että kansio on luotettava (esim. oma projektisi),
              valitse <strong>Yes, I trust the authors</strong>.
            </li>
            <li>
              Jos et ole varma kansion tai projektin sisällöstä ja
              luotettavuudesta, voit avata kansion “Restricted Mode” -tilassa,
              jolloin mm. laajennukset ja koodin suoritus estetään.
            </li>
          </ul>

          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 1.1.webp"
              alt="Do you trust the authors of the files in this folder? -varoitus"
            />
            <figcaption>
              Do you trust the authors of the files in this folder? -varoitus
            </figcaption>
          </figure>
          <!-- Accordion content ends -->
        </div>
      </div>
      <!-- Accordion element ends -->
    </li>
    <li>
      <h6>Luo paikallinen repositorio.</h6>
      <ul>
        <li>
          Avaa Source Control-valikko klikkaamalla sivupalkin kuvakkeesta tai
          näppäimillä <strong>CTRL + SHIFT + G</strong>. Klikkaa Source Control
          kuvaketta sivuvalikosta.
        </li>
        <li>
          Valitse avautuneesta valikosta
          <strong>Initalize Repository</strong>.
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 2.webp"
          alt="Paikallisen repositorion luominen"
        />
        <figcaption>Paikallisen repositorion luominen</figcaption>
      </figure>
    </li>
    <li>
      <h6>Yhdistä paikallinen repositorio etärepositorioon.</h6>
      <ul>
        <li>
          Klikkaa kolmea pistettä luodun repositorion vierestä ja valitse
          Remoten-valikon alta valinta
          <strong>Add Remote...</strong>.
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 3.webp"
          alt="Etärepositorion lisääminen"
        />
        <figcaption>Etärepositorion lisääminen</figcaption>
      </figure>

      <ul>
        <li>
          Anna yläpalkin kenttään etärepositorion osoite
          <code>https://github.com/käyttäjänimi/repositorion-nimi.git</code>
        </li>
        <li>Klikkaa <strong>Add remote from URL</strong>.</li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 4.webp"
          alt="Etärepositorion osoitteen antaminen"
        />
        <figcaption>Etärepositorion osoitteen antaminen</figcaption>
      </figure>

      <ul>
        <li>
          Anna yläpalkin kenttään etärepositorion nimi esim.
          <code>origin</code> (gitin oletus) ja paina <strong>Enter</strong>.
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 4.2.webp"
          alt="Etärepositorion nimen lisääminen"
        />
        <figcaption>Etärepositorion nimen lisääminen</figcaption>
      </figure>
    </li>
    <li>
      <h6>Tuo (Pull) etärepositorion tila paikalliseen repositorioon.</h6>
      <div class="note-box">
        <ul>
          <li class="warning">
            Mikäli käytät uutta tyhjää etärepositoriota jätä tämä vaihe välistä
            ja siirry seuraavaan kohtaan:
            <em class="no-line-change">5. Luo uusi tiedosto testausta varten</em
            >.
          </li>
        </ul>
      </div>
      <ul>
        <li>
          Klikkaa kolmea pistettä ja valitse Pull, Push-valikon alta valinta
          <strong>Pull from...</strong>
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 5.webp"
          alt="Etärepositorion sisällön tuominen paikalliseen repositorioon"
        />
        <figcaption>
          Etärepositorion sisällön tuominen paikalliseen repositorioon
        </figcaption>
      </figure>
      <ul>
        <li>Valitse haara jonka sisällön haluat tuoda.</li>
        <li>
          <strong>origin/HEAD</strong> tarkoittaa aina etärepositorion
          oletushaara (Default).
        </li>
        <li>
          Tässä tapauksessa repositorion oletus haara on nimeltää
          <strong>origin/main</strong>.
        </li>
        <li>
          Eli molemmat vaihtoehdot ovat siis tällä hetkellä tämän repositorion
          kohdalla yksi ja sama haara
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 6.webp"
          alt="Tuotavan haaran valitseminen"
        />
        <figcaption>Tuotavan haaran valitseminen</figcaption>
      </figure>
    </li>
    <li>
      <h6>Luo uusi tiedosto testausta varten.</h6>
      <ul>
        <li>
          Avaa Explorer-valikko klikkaamalla sivupalkin kuvakkeesta tai
          näppäimillä
          <strong>CTRL + SHIFT + E</strong>.
        </li>
        <li>
          Kansion nimen vierestä uusi tiedosto
          <strong>kuvaketta</strong>.
        </li>
        <li>
          Anna tiedostolle nimi: esim. <code>tiedosto-vs-codella.md</code> +
          enter
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 7.webp"
          alt="Uuden tiedoston luominen"
        />
        <figcaption>Uuden tiedoston luominen</figcaption>
      </figure>
      <ul>
        <li>
          Lisää tiedostolle sopiva sisältö ja tallenna pikanäppäimellä
          <strong>CTRL + S</strong>
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 8.webp"
          alt="Tiedoston sisällön lisääminen"
        />
        <figcaption>Tiedoston sisällön lisääminen</figcaption>
      </figure>
      <ul>
        <li>Valitse README.md, muuta sen sisältöä ja tallenna.</li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 9.webp"
          alt="README.md tiedoston muokkaaminen"
        />
        <figcaption>README.md tiedoston muokkaaminen</figcaption>
      </figure>

      <!-- Accordion element starts -->
      <div
        class="accordion"
        data-include="../../accordion-element/accordion.html"
        data-title="Muutoksien vertailu"
      >
        <div class="contentToAccordion">
          <!-- Accordion content starts -->
          <ul>
            <li>
              Avaa Source Control-valikko klikkaamalla sivupalkin kuvakkeesta
              tai näppäimillä <strong>CTRL + SHIFT + G</strong>. Klikkaa Changes
              valikon alta README.MD tiedostoa.
            </li>
            <li>
              Aukeaa ruutu README.md (working tree) jonka avulla voit
              tarkastella muutoksia tidoston edellisen commitin tilaan
              verrattuna.
            </li>
            <li>
              Ikkunassa vihreällä tehdyt muutokset ja aikaisempi tila
              punaisella.
            </li>
          </ul>

          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 10.webp"
              alt="Muutoksien tarkastelu ja vertaaminen"
            />
            <figcaption>Muutoksien tarkastelu ja vertaaminen</figcaption>
          </figure>
          <!-- Accordion content ends -->
        </div>
      </div>
      <!-- Accordion element ends -->
    </li>
    <li>
      <h6>Luodaan repositoriolle uusi haara (branch)</h6>
      <ul>
        <li>
          Klikkaa kolmea pistettä ja valitse Branch-valikon alta valinta
          <strong>Create Branch...</strong>
        </li>
        <li>
          Anna yläpalkin kenttään uuden haaran nimi esim.
          <code>vs-code-haara</code> ja paina <strong>Enter</strong>.
        </li>
        <li>
          Anna yläpalkin kenttään uuden haaran nimi esim.
          <code>vs-code-haara</code> ja paina <strong>Enter</strong>.
        </li>
      </ul>

      <div class="note-box">
        <ul class="padding-left">
          <li class="warning">
            Teoriaa gitin haaroihin (branches) liittyen käydään läpi tarkemmin
            osiossa
            <a class="no-line-change" href="/teamwork/branches.html#branches"
              >2.1 Tiimityö ja haarat</a
            >.
          </li>
        </ul>
      </div>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 11.webp"
          alt="Uuden haaran luominen VS Codessa"
        />
        <figcaption>Uuden haaran luominen VS Codessa</figcaption>
      </figure>
    </li>

    <li>
      <h6>
        Lisätään muutokset ja uusi tiedosto staging tilaan ja tehdään commit.
      </h6>
      <ul>
        <li>
          Klikkaa kolmea pistettä ja valitse Changes-valikon alta valinta
          <strong>Stage All Changes</strong>
        </li>
      </ul>

      <div class="note-box margin-right">
        <ul>
          <li>Tämä vastaa komentoa: <code> git add . </code></li>
          <li class="warning">
            Käytä komentoa <code>git add .</code> varoen. <br />
            Jos olet lisännyt samaan kansioon jotain arkaluontoistatietoa
            sisältäviä tiedostoja, joita et halua lisätä repositioon, niin
            <strong>älä</strong> käytä <code>git add .</code> komentoa tai lisää
            repositorioon <code>.gitignore</code> -tiedosto, joka estää siihen
            nimettyjen tiedostojen lisäämisen repositorioon.
          </li>
          <li>
            <code>.gitignore</code>:sta lisää tietoa osiossa:
            <a href="/teamwork/privacy-and-security.html"
              >2.5 yksityisyys ja tietoturva</a
            >
          </li>
        </ul>
      </div>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 12.webp"
          alt="Muutoksien vieminen staging tilaan"
        />
        <figcaption>Muutoksien vieminen staging tilaan</figcaption>
      </figure>

      <ul>
        <li>
          Anna message kenttään commit-viesti esim.
          <code>Ensimmäinen commit vs codella</code>.
        </li>
        <li>Klikkaa <strong>Commit</strong> painiketta.</li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 13.webp"
          alt="Muutoksien commitointi ja viestin lisääminen"
        />
        <figcaption>Muutoksien commitointi ja viestin lisääminen</figcaption>
      </figure>

      <!-- Accordion element starts -->
      <div
        class="accordion"
        data-include="../../accordion-element/accordion.html"
        data-title="Vaihtoehtoinen tapa lisätä commit message"
      >
        <div class="contentToAccordion">
          <!-- Accordion content starts -->
          <ul>
            <li>
              Jätä message kenttä tyhjäksi ja paina
              <strong>Commit</strong> nappia.
            </li>
          </ul>

          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 13.1.webp"
              alt="Muutoksien tarkastelu ja vertaaminen"
            />
            <figcaption>Muutoksien tarkastelu ja vertaaminen</figcaption>
          </figure>

          <ul>
            <li>Aukeaa uusi ikkuna <strong>COMMIT_EDITMSG</strong></li>
            <li>
              Lisää commit message ensimmäiselle riville ja tallenna
              <strong>CTRL</strong> +
              <strong>S</strong>
            </li>
            <li>
              Hyväksy viesti klikkaamalla oikealta ylhäältä
              <strong>Accept Commit Message</strong> nappia.
            </li>
          </ul>

          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 13.2.webp"
              alt="Muutoksien tarkastelu ja vertaaminen"
            />
            <figcaption>Muutoksien tarkastelu ja vertaaminen</figcaption>
          </figure>
          <!-- Accordion content ends -->
        </div>
      </div>
      <!-- Accordion element ends -->
    </li>
    <li>
      <h6>Viedään (Push) muutokset etärepositorioon</h6>
      <ul>
        <li>Klikkaa kolmea pistettä ja valitse <strong>Push</strong></li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 14.webp"
          alt="Muutoksien vieminen etärepositorioon"
        />
        <figcaption>Muutoksien vieminen etärepositorioon</figcaption>
      </figure>

      <ul>
        <li>
          VS Code varoittaa, että etärepositoriolla ei ole tämän nimistä haaraa.
        </li>
        <li>
          Valitsemalla <strong>OK</strong> voit luoda uuden haaran myös
          etärepositorioon.
        </li>
        <li>
          Tai voit korvata Pushin painamalla suoraan
          <strong>Publish Branch</strong> painiketta joka luo suoraan uuden
          haaran etärepositorioon ja vie muutokset sinne.
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 15.webp"
          alt="Uuden haaran luominen etärepositorioon"
        />
        <figcaption>Uuden haaran luominen etärepositorioon</figcaption>
      </figure>
    </li>

    <li>
      <h6>Uusi haara ja tuodut muutokset GitHubissa</h6>
      <ul>
        <li>Mene selaimella GitHubiin ja avaa repositorio</li>
        <li>Klikkaa haaran valintaa jossa lukee <strong>Main</strong></li>
        <li>Valitse uusi haara</li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 16.webp"
          alt="Uusi haara GitHubissa"
        />
        <figcaption>Uusi haara GitHubissa</figcaption>
      </figure>

      <ul>
        <li>Aukeaa näkymä luodun haaran sisällöstä.</li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/vscode/git vscode 17.webp"
          alt="Muutokset GitHubissa"
        />
        <figcaption>Muutokset GitHubissa</figcaption>
      </figure>
    </li>
  </ol>
</section>
