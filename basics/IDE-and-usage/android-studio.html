<section class="git-install">
  <header>
    <h1>Gitin käyttö Android Studiossa</h1>
    <p>
      Tällä sivulla käsitellään Gitin käyttöä
      <strong>Android Studiossa</strong>. Android Studion perustuu JetBrainsin
      intelliJ koodieditoriin, joten sillä on yhteneväisyyksiä myös edellä
      esiteltyyn JetBrainsin PyCharm editoriin. 
    </p>
    <!-- Accordion element starts -->
    <div
      class="accordion"
      data-include="../../accordion-element/accordion.html"
      data-title="Gitin ja GitHubin käyttöönotto Android Studiossa"
    >
      <div class="contentToAccordion">
        <p class="keep-margin">
          Gitin ja GitHubin käyttöönottamiseksi Android Studiossa käy ensin läpi
          <a href="/basics/git-install.html">1.4 Käyttöönotto</a> osiossa käydyt
          asennusohjeet ja sen jälkeen seuraa alla olevia ohjeita.
        </p>
        <ol>
          <li>
            Klikkaa vasemmalta alhaalta <strong>Ratas</strong> kuvaketta ja
            valitse <strong>Settings</strong>
            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 1.webp"
                alt="Asetusvalikon avaaminen Android Studiossa."
              />
              <figcaption>
                Asetusvalikon avaaminen Android Studiossa.
              </figcaption>
            </figure>
          </li>
          <li>
            Valitse asetusvalikon vasemmalta puolelta listasta
            <strong>Version Control</strong> ja sen alta <strong>Git</strong>
            <ul>
              <li>
                Testaa, että Android Studio löytää Gitin painamalla
                <strong>Test</strong> nappia
              </li>
              <li>
                Mikäli Git löytyy näykyy sen
                <strong>version numero</strong> polun alla
              </li>
              <li>
                Mikäli Gitiä ei löytynyt anna Android Studiolle polku johon olet
                Gitin asentanut
              </li>
            </ul>

            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 2.webp"
                alt="Vesionhallinta asetukset Android Studio ja Git polun tarkistus"
              />
              <figcaption>
                Vesionhallinta asetukset Android Studio ja Git polun tarkistus
              </figcaption>
            </figure>
          </li>
          <li>
            Valitse asetusvalikon vasemmalta puolelta listasta
            <strong>Version Control</strong> ja sen alta <strong>GitHub</strong>
            <ul>
              <li>
                Yhdistä GitHub tilisi Android Studioon klikkaamalla
                <strong>Add account...</strong>
              </li>
              <li>
                Valitse
                <strong>Log in via GitHub...</strong>
              </li>
            </ul>
            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 3.webp"
                alt="GitHub tilin lisääminen Android Studioon"
              />
              <figcaption>GitHub tilin lisääminen Android Studioon</figcaption>
            </figure>

            <p class="note-box">
              GitHub-tilin yhdistäminen editoriin voi hieman erota tässä
              esitetystä, mikäli olet jo antanut oikeudet jollekin toiselle
              JetBrainsin editorille käyttää tilisi sisältöä.
            </p>
          </li>
          <li>
            Klikkaa avautuneesta selainikkunasta
            <strong>Authorize in GitHub</strong> nappia

            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/pycharm/pycharm 5.webp"
                alt="GitHub tilin lisääminen Android Studioon selaimessa"
              />
              <figcaption>
                GitHub tilin lisääminen Android Studioon selaimessa
              </figcaption>
            </figure>

            <div class="note-box">
              <ul>
                <li class="warning">
                  Mikäli sinulla on jo GitHub auki selaimessa ja olet kirjatunut
                  sisään, voit siirtyä suoraan kohtaan
                  <strong>7. Luvananto Android Studiolle</strong>.
                </li>
              </ul>
            </div>
          </li>
          <li>
            Syötä aukeavaan selainikkunaan GitHub-tilin
            <strong>käyttäjänimi</strong> tai <strong>sähköposti</strong> sekä
            <strong>salasana</strong> ja klikkaa
            <strong>Sign in</strong> painiketta
            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/pycharm/pycharm 6.webp"
                alt="Kirjautuminen GitHubiin"
              />
              <figcaption>Kirjautuminen GitHubiin</figcaption>
            </figure>
          </li>
          <li>
            Anna kaksivaiheisen tunnistautumisen avainkoodi
            tunnistautumissovelluksestasi ja klikkaa
            <strong>Verify</strong>

            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/pycharm/pycharm 7.webp"
                alt="Kaksivaiheinen tunnistautuminen"
              />
              <figcaption>Kaksivaiheinen tunnistautuminen</figcaption>
            </figure>
          </li>
          <li>
            Anna Android Studiolle lupa päästä GitHub-tilillesi klikkaamalla
            <strong>Authorize JetBrains</strong>

            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/pycharm/pycharm 8.webp"
                alt="Luvan antaminen Android Studiolle"
              />
              <figcaption>Luvan antaminen Android Studiolle</figcaption>
            </figure>

            <p class="note-box">
              Jos olit kirjautuneena GitHubiin selaimessa ja käytät kaksivaiheista 
              tunnistautumista, GitHub saattaa pyytää syöttämään vielä
              tunnistautumissovelluksen avainkoodin (katso kohta 6).
            </p>
          </li>
          <li>
            Tarkista ilmoitus siitä, että olet sallinut Android Studiolle pääsyn
            GitHub-tilillesi ja sulje selainikkuna

            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/pycharm/pycharm 9.webp"
                alt="Vahvistusviesti Android Studio"
              />
              <figcaption>Vahvistusviesti Android Studio</figcaption>
            </figure>
          </li>
          <li>
            Tarkista myös Android Studion asetuksista, että lisäämäsi GitHub-tili on
            näkyvissä ja sulje ikkuna

            <figure>
              <img
                class="wide-image"
                src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 4.webp"
                alt="Android Studion asetukset"
              />
              <figcaption>Android Studion asetukset</figcaption>
            </figure>
          </li>
        </ol>
      </div>
    </div>
    <!-- Accordion element ends -->
    <p>
      Osion ohjeissa käytetään komentokehote -osiosta
      tuttua etärepositoriota ja kloonataan se paikalliseksi repositorioksi
      Android Studiolla. Tämän lisäksi luodaan editorin avulla tiedostot .gitignore ja
      testitiedosto.md ja luodaan niille oma haara repositorioon.
    </p>
    <!-- Accordion element with reused content starts -->
    <div
      class="accordion"
      data-include="/accordion-element/accordion.html"
      data-title="Mistä repositoriot ja sen URL-osoite löytyvät GitHubissa"
    >
      <div
        class="contentToAccordion reused-accordion"
        data-include="/reused-accordion-content/repository-and-url.html"
      >
        <!-- Accordion content starts from /reused-accordion-content/repository-and-url.html-->
      </div>
    </div>
    <!-- Reusable accordion element ends -->
    <p>
      Huomiona mainittakoon, että VS Code tarjoaa mahdollisuuksia tehdä Git
      toimintoja usealla eri tavalla. Jotkin toiminnoista voi tehdä
      mahdollisesti myös toisella tapaa, ehkäpä jopa paremmin tai tehokkaammin
      kuin mitä ohjeessa on esitetty.
    </p>
  </header>

  <ol class="edit-number sections">
    <li>
      <h6>Kloonaa etärepositorio Android Studioon</h6>
      <ul>
        <li>
          Klikkaa projects valikossa
          <strong>More Actions</strong>
        </li>
        <li>
          Tai mikäli sinulla on aikaisempia projekteja niin niiden yläpuolelta
          oikeanpuolimmaisesta <strong>kolmepistettä</strong> napista
        </li>
        <li>
          Klikkaa aukeavasta alasvetovalikosta
          <strong>Get from Version Control...</strong>
        </li>
      </ul>
      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 5.webp"
          alt="Repositorion kloonaaminen (ensimmäinen projekti)"
        />
        <figcaption>
          Repositorion kloonaaminen (ensimmäinen projekti)
        </figcaption>
      </figure>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 6.webp"
          alt="Repositorion kloonaaminen (aikaisempia projekteja)"
        />
        <figcaption>
          Repositorion kloonaaminen (aikaisempia projekteja)
        </figcaption>
      </figure>
    </li>
    <li>
      <h6>Anna kloonattavan repositorio URL</h6>
      <ul>
        <li>
          <strong>Repository URL</strong> valikossa anna
          <strong>URL</strong> -kenttään etärepositorion osoite
        </li>
        <li>
          Muuta halutessasi kohde kansio
          <strong>Directory</strong> -kenttään
        </li>
        <li>
          Klikkaa
          <strong>Clone</strong> nappia
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 7.webp"
          alt="Kloonattavan etärepositorion valitseminen"
        />
        <figcaption>Kloonattavan etärepositorion valitseminen</figcaption>
      </figure>

      <!-- Accordion element starts -->
      <div
        class="accordion"
        data-include="../../accordion-element/accordion.html"
        data-title="Trust and Open Project? -varoitus"
      >
        <div class="contentToAccordion">
          <!-- Accordion content starts -->
          <ul>
            <li>
              Jos tiedät, että kansio on luotettava (esim. oma projektisi),
              valitse <strong>Trust Project</strong>
            </li>
            <li>
              Jos et ole varma kansion tai projektin sisällöstä tai
              luotettavuudesta, voit avata kansion klikkaamalla Preview in Safe
              Mode-nappia, jolloin voit tarkastella sisältö ennen siihen
              luottamista.
            </li>
          </ul>

          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 8.webp"
              alt="Trust and Open Project?-varoitus"
            />
            <figcaption>
              Trust and Open Project?-varoitus Android Studiossa
            </figcaption>
          </figure>
          <!-- Accordion content ends -->
        </div>
      </div>
      <!-- Accordion element ends -->
    </li>
    <li>
      <h6>Lisää uudet tiedostot</h6>
      <ul>
        <li>
          Projekti aukeaa Android Studiossa ja näet kloonatun etärepositorion
          sisällön. Lisäksi Android Studio loi automaattisesti .idea kansion
          projektille, joka sisältää IDE:lle tärkeitä asetuksia.
        </li>
        <li>
          lisää uusi tiedosto valitsemalla
          <img
            class="plus-sign"
            src="../../assets/images/svg/plus.svg"
            alt="plus merkki"
          />
          -ikonilla aukeavasta alasvetovalikosta <strong>File</strong>
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 9.webp"
          alt="Tiedoston lisääminen"
        />
        <figcaption>Tiedoston lisääminen</figcaption>
      </figure>

      <ul>
        <li>
          Lisää projektiin .gitignore tiedosto antamalla tiedostolle nimi
          <code>.gitignore</code> ja paina <strong>Enter</strong>
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 10.webp"
          alt="Tiedoston lisääminen ja nimeäminen"
        />
        <figcaption>Tiedoston lisääminen ja nimeäminen</figcaption>
      </figure>
      <ul>
      <li>
          Android Studio kysyy heti haluatko lisätä tiedoston versionhallintaan. 
          Lisää se painamalla <strong>Add</strong> -painiketta tai peru lisäys 
          <strong>Cancel</strong> -napista ja lisää sen myöhemmin esitetyllä tavalla.
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 11.webp"
          alt="Tiedoston lisääminen versionhallintaan"
        />
        <figcaption>Tiedoston lisääminen versionhallintaan</figcaption>
      </figure>
      <ul>
        <li>
          Lisää projektiin vielä toinen tiedosto nimeltä
          <code>testitiedosto-android-studio.md</code> ja paina
          <strong>Enter</strong>
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 12.webp"
          alt="Tiedoston lisääminen ja nimeäminen"
        />
        <figcaption>Tiedoston lisääminen ja nimeäminen</figcaption>
      </figure>
      <ul>
        <li>
          Lisää tiedostolle testitiedosto-android-studio.md sisältö kuten <br>
          <code>Tämä on Android Studiolla luotu tiedosto testausta varten</code> <br>
          ja tallenna tiedosto
          <strong>CTRL + S</strong>
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 14.webp"
          alt="Tiedoston sisällön lisääminen"
        />
        <figcaption>Tiedoston sisällön lisääminen</figcaption>
      </figure>

      <ul>
        <li>
          Muuta vielä README.md tiedoston sisältöä ja tallenna pikanäppäimellä
          <strong>CTRL + S</strong>
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 15.webp"
          alt="README.md tiedoston sisällön muokkaaminen"
        />
        <figcaption>README.md tiedoston sisällön muokkaaminen</figcaption>
      </figure>
    </li>
    <li>
      <h6>Jätä .idea kansio pois versionhallinnasta</h6>
      <ul>
        <li>
          Lisää gitignore-tiedostoon <code>.idea/</code> ja tallenna
          pikanäppäimellä <strong>CTRL + S</strong>
        </li>
      </ul>

      <div class="note-box margin-right">
        .gitignoresta lisää tietoa osiossa
        <a href="/teamwork/privacy-and-security.html"
          >2.5 Yksityisyys ja tietoturva</a>.
      </div>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 13.webp"
          alt=".gitignore ja .idea kansion jättäminen pois versionhallinnasta"
        />
        <figcaption>
          .gitignore ja .idea kansion jättäminen pois versionhallinnasta
        </figcaption>
      </figure>
      <ul>
        <li> Tiedostojen tilat Android Studiossa
          <ul> 
            <li>Oranssi .gitignorattu versionhallinnasta</li>
            <li>Sininen versionhallinnassa ja muutettu</li>
            <li>Punainen uusi tiedosto, ei vielä lisätty versionhallintaan</li>
          </ul>
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 25.webp"
          alt=".gitignore ja .idea kansion jättäminen pois versionhallinnasta"
        />
        <figcaption>
          .gitignore ja .idea kansion jättäminen pois versionhallinnasta
        </figcaption>
      </figure>
    </li>
    <li>
      <h6>
        Uuden haaran luominen ja uusien tiedostojen lisääminen välialueelle
        (staging)
      </h6>
      <ul>
        <li>
          Valitse <strong>New Branch</strong> joko yläpalkin
          <strong>versionhallinta pikavalikosta</strong> tai päävalikosta
          <strong>Main Menu > Git > New Branch</strong> tai pikanäppäimellä
          <strong>CTRL + ALT + N</strong>
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 16.webp"
          alt="Muutosten vieminen välialueelle
        (staging)"
        />
        <figcaption>Muutosten vieminen välialueelle (staging)</figcaption>
      </figure>
      <ul>
        <li>
          Anna haaralle nimi, esim. <code>android-studio-haara</code> ja klikkaa
          <strong>Create</strong>
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 17.webp"
          alt="Muutosten vieminen välialueelle
        (staging)"
        />
        <figcaption>Muutosten vieminen välialueelle (staging)</figcaption>
      </figure>
      <ul>
        <li>Klikkaa <strong>kansiota</strong> jossa tiedostot ovat</li>
        <li>
          Tämän jälkeen klikkaa ylävalikosta
          <strong>Main Menu</strong> kuvaketta
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 18.webp"
          alt="Muutosten vieminen välialueelle
        (staging)"
        />
        <figcaption>Muutosten vieminen välialueelle (staging)</figcaption>
      </figure>
      <ul>
        <li>
          Valitse päävalikosta välilehti <strong>Git</strong>, sen alta
          <strong>Selected Directory</strong> ja klikkaa <strong>Add</strong>
        </li>
        <li>Tämä vastaa komentoa <code>git add .</code> ja lisää kaikki kansion 
          tiedostot välialueelle (staging)</li>
        <li>
          Vaihtoehtoisesti voit tehdä lisäämisen pikanäppäimillä painamalla
          kansion valitsemisen jälkeen
          <strong>CTRL + ALT + A</strong>. Tai voi valita kansion sijaan
          yksittäisen tiedonston ja viedä sen välialueelle (staging), joko
          valikosta (Main Menu > Git > Current file > Add) tai pikanäppäimillä.
        </li>
      </ul>

  <div class="note-box">
    <ul>
      <li class="warning">
        Käytä komentoa <code>git add .</code> varoen. Varsinkin jos projekti sisältää arkaluontoista tietoa. Harkitse
        myös <code>.gitignore</code> -tiedoston lisäämistä projektiin. Lisää tietoa gitignoresta luvussa
        <a href="/teamwork/privacy-and-security.html">2.5 Yksityisyys ja tietoturva</a>.
      </li>
    </ul>
  </div>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 19.webp"
          alt="Muutosten vieminen välialueelle
        (staging)."
        />
        <figcaption>Muutosten vieminen välialueelle (staging)</figcaption>
      </figure>

      <ul>
        <li>
          Lisättyjen tiedostojen väri muuttuu punaisesta vihreäksi, muutetut
          säilyvät sinisenä
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 26.webp"
          alt="Lisätyt tiedostot"
        />
        <figcaption>Lisätyt tiedostot</figcaption>
      </figure>
    </li>
    <li>
      <h6>
        Tee commit ja vie etärepositorioon
      </h6>
      <ul>
        <li>
          Avaa Commit valikko klikkaamalla sivupalkin
          <strong>Commit</strong> kuvaketta tai ylävalikosta
          <strong>Main Menu > Git > Commit</strong> tai pikanäppäimillä
          <strong>CTRL + K</strong>
        </li>
        <li>Valitse <strong>tiedostot</strong> committiin</li>
        <li>Lisää <strong>commit-viesti</strong> tekstikenttään</li>
        <li>
          Paina <strong>Commit</strong> nappia commitoidaksesi muutokset
          paikalliseen repositorioon
        </li>
        <li>
          Vaihtoehtoisesti paina <strong>Commit and Push</strong> nappia
          commitoidaksesi muutokset paikallisesti ja viedäksesi muutokset myös
          etärepositorioon
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 20.webp"
          alt="Muutosten commitoiminen, viestin lisääminen"
        />
        <figcaption>Muutosten commitoiminen, viestin lisääminen</figcaption>
      </figure>

      <ul>
        <li>
          Commitoitoitujen tiedostojen väri muuttuu vihreäksi valkoiseksi, kun taas
          versionhallinnan ulkopuolelle jätetyt tiedostot säilyvät oransseina
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 27.webp"
          alt="Lisätyt tiedostot"
        />
        <figcaption>Lisätyt tiedostot</figcaption>
      </figure>
      <ul>
        <li>
          Mikäli teit vain commitin, voit viedä commitatut muutokset
          etärepositorioon tekemällä pushin erikseen
        </li>
        <li>
          Valitse <strong>Push</strong> joko yläpalkin
          <strong>versionhallinta pikavalikosta</strong> tai päävalikosta
          <strong>Main Menu > Git > Push</strong> tai pikanäppäimellä
          <strong>CTRL + SHIFT + K</strong>
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 21.webp"
          alt="Muutosten pushaaminen erikseen"
        />
        <figcaption>Muutosten pushaaminen erikseen</figcaption>
      </figure>

      <ul>
        <li>
          Teitpä pushin millä tavalla tahansa, avautuu seuraavaksi 
          viimeistelyikkuna, jossa näkyvät commitin viesti, haara ja 
          siihen sisältyvät tiedostot
        </li>
        <li>
          Klikkaa <strong>Push</strong> nappia viedäksesi muutokset
          etärepositorioon
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 22.webp"
          alt="Pushin viimeistelyikkuna"
        />
        <figcaption>Pushin viimeistelyikkuna</figcaption>
      </figure>
    </li>
    <li>
      <h6>Tarkista tuodut muutokset GitHubissa</h6>
      <ul>
        <li>
          Siirry selaimessa kyseiseen repositorioon
        </li>
        <li>Klikkaa haaran valintaa jossa lukee <strong>main</strong></li>
        <li>Valitse luomasi haara</li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 23.webp"
          alt="Muutokset GitHubissa"
        />
        <figcaption>Muutokset GitHubissa</figcaption>
      </figure>
      <ul>
        <li>Tarkista Android Studiossa lisäämäsi tiedostot ja tekemäsi muutokset</li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/androidStudio/android studio 24.webp"
          alt="Muutokset Git-haarassa"
        />
        <figcaption>Muutokset Git-haarassa</figcaption>
      </figure>
    </li>
  </ol>
</section>
