<section class="git-install">
  <header>
    <h1>Gitin käyttö komentorivillä</h1>
    <p>
      Tällä sivulla käsitellään Gitin käyttöä
      <strong>komentoriviltä</strong>. Luodaan komentorivin avulla tiedosto ja
      repositorio sekä viedään se etärepositorioon.
    </p>
  </header>

  <ol class="edit-number sections">
    <!--List item 1.-->
    <li>
      <h6>Avaa Git Bash tai terminaali (macOS tai Linux)</h6>
      <ul>
        <li>
          Git Bash asennetaan Windowsille oletuksena Gitin asennuksen yhteydessä
        </li>
        <li>Avaa Git Bash Windowsin aloitusvalikosta tai etsi Git Bash</li>
      </ul>
      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/git-install/git config 1.1.webp"
          alt="Git Bash avaaminen Windows"
        />
        <figcaption>
          Git Bash on oletuksena Git kansiossa Windowsin aloitusvalikossa.
        </figcaption>
      </figure>
      <!--Accordion 1.-->
      <div
        class="accordion"
        data-include="../../accordion-element/accordion.html"
        data-title="Huomio Git Bashin käytöstä VS Codella"
      >
        <div class="contentToAccordion">
          <p class="keep-margin">
            Avaa terminaali tarvittaessa yläpalkista <strong>View</strong> +
            <strong>Terminal</strong>. Git Bashin saa käyttöön terminaaliin
            <img
              class="plus-sign"
              src="../../assets/images/svg/plus.svg"
              alt="plus merkki"
            />
            -painikkeen vierestä avattavasta alasvetovalikosta.
          </p>
          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 6.webp"
              alt="Git Bash näkymä VS Codessa"
            />
            <figcaption>
              Git bashin avaaminen VS Coden terminaalista.
            </figcaption>
          </figure>
        </div>
      </div>
      <!-- Accordion 1 ends-->
    </li>
    <!--List item 2.-->
    <li>
      <h6>Luodaan kansio ja tiedosto testausta varten.</h6>
      <ul>
        <li>
          Siirry kansioon minne haluat luoda uuden kansion:<br />
          <code>cd polku/valittuun/hakemistoon</code>
        </li>
        <li>
          Luo uusi kansio projektia varten:<br />
          <code>mkdir kansion-nimi</code>
        </li>
        <li>
          Siirry luotuun kansioon:<br />
          <code>cd kansion-nimi</code>
        </li>
        <li>
          Voit ketjuttaa komentoja käyttämällä niiden välissä <code>&&</code
          ><br />
          esim.
          <code>cd Desktop/ && mkdir git-testaus && cd git-testaus</code>
        </li>
        <li>
          Luodaan vielä markdown (.md) tekstitiedosto uuteen kansioon:<br />
          <code
            >echo Tämä on tekstitiedosto git testausta varten. >>
            README.md</code
          >
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 2.webp"
          alt="Git Bash näkymä kansion ja tiedoston luominen"
        />
        <figcaption>Esimerkki kansion ja tiedoston luomisesta</figcaption>
      </figure>
    </li>
    <!--List item 3.-->
    <li>
      <h6>
        luodaan paikallinen repositorio ja yhdistetään se etärepositorioon.
      </h6>
      <ul>
        <li>
          Luodaan paikallinen repositorio komennolla:<br />
          <code>git init</code>
        </li>
        <li>
          Yhdistetään etärepositorio paikalliseen komennolla:<br />
          <code
            >git remote add origin
            https://github.com/käyttäjänimi/repositorion-nimi.git</code
          >
        </li>
        <li>
          Lisätään tiedosto README.md stagin-tilaan komennolla:<br />
          <code>git add README.md</code>
        </li>
        <li>
          Tehdään ensimmäinen commit komennolla:<br />
          <code>git commit -m "Ensimmäinen commit"</code>
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 3.webp"
          alt="Git Bash näkymä repositorion luominen"
        />
        <figcaption>
          Esimerkki repositorion luomisesta, etärepositorion yhdistämisestä sekä
          tiedoston lisäämisestä ja commitin tekemisestä
        </figcaption>
      </figure>
    </li>
    <!--List item 4.-->
    <li>
      <h6>
        Lopuksi siirretään paikallisen repositorion muutokset etärepositorioon
        GitHubissa.
      </h6>
      <ul>
        <li>
          Siirto etärepositorioon tapahtuu komennolla:<br />
          <code>git push -u origin main</code>
        </li>
        <p class="note-box margin-right keep-margin">
          <code>-u</code> (tai <code>--set-upstream</code>) on Git push
          -komennon lippu joka asettaa paikallisen haaran seuraamaan vastaavaa
          etähaaraa. Jatkossa git siis tietää etähaaran "kotiosoitteen" ja
          komennoksi riittää <code>git push</code> ja <code>git pull</code>.
        </p>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 4.webp"
          alt="Git Bash näkymä muutoksien vienti etärepositorioon"
        />
        <figcaption>
          Esimerkki muutoksien viemisestä etärepositorioon
        </figcaption>
      </figure>
      <!--Accordion 2.-->
      <div
        class="accordion"
        data-include="../../accordion-element/accordion.html"
        data-title="Ensimmäinen GitHub interaktio"
      >
        <div class="contentToAccordion">
          <ol>
            <li>
              <p>
                Kun teen ensimmäisen Git toiminnon joka on yhteydessä GitHubiin.
                Pyytää GitHub kirjautumaan sisään.
              </p>
              <p>
                Valitse <strong>Browser/Device</strong> ja klikkaa
                <strong>Sign in with your browser</strong>
              </p>

              <figure>
                <img
                  class="wide-image"
                  src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 7.webp"
                  alt="GitHub kirjautumispyyntö"
                />
                <figcaption>GitHub kirjautumispyyntö</figcaption>
              </figure>
            </li>
            <li>
              <p>
                Mikäli olet jo kirjautuneena GitHubiin tulee näkyviin vain tyhjä
                selainikkuna jonka voi sulkea ja kirjautuminen on suoritettu.
              </p>
              <p>
                Mikäli näet alla olevan ikkunan syötä käyttäjänimi tai
                sähköpostiosoite sekä salasana ja klikkaa
                <strong>Sign in</strong>
              </p>
              <figure>
                <img
                  class="wide-image"
                  src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 8.webp"
                  alt="GitHub kirjautumisikkuna"
                />
                <figcaption>GitHub kirjautumisikkuna</figcaption>
              </figure>
            </li>
            <li>
              <p>
                Syötä kaksivaiheiseen tunnistautumiseen käyttämäsi sovelluksen
                avainluku ja klikka <strong>Verify</strong>
              </p>

              <figure>
                <img
                  class="wide-image"
                  src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 9.webp"
                  alt="GitHub kaksivaiheinen tunnistautuminen"
                />
                <figcaption>GitHub kaksivaiheinen tunnistautuminen</figcaption>
              </figure>
            </li>
            <li>
              <p>
                Kirjautuminen saattaa ehdottaa passkeyn lisäämistä
                tunnistautumis vaihtoehdoksi.
              </p>
              <p>
                Lisää se halutessasi tai klikka <strong>Ask me later</strong>
              </p>

              <figure>
                <img
                  class="wide-image"
                  src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 10.webp"
                  alt="GitHub passkeyn lisääminen"
                />
                <figcaption>GitHub passkeyn lisääminen</figcaption>
              </figure>
            </li>
            <li>
              <p>
                Lopuksi tulee ilmoitus tunnistautumisen onnistumisesta. tämän
                jälkeen selainikkunan voi sulkea.
              </p>

              <figure>
                <img
                  class="wide-image"
                  src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 11.webp"
                  alt="GitHub tunnistautuminen onnistui"
                />
                <figcaption>GitHub tunnistautuminen onnistui</figcaption>
              </figure>

              <p class="note-box">
                Tässä yhteydessä Git Credential Manager luo käyttöjärjestelmän
                tunnistetietojen hallintaan GitHubille tunnisteen. Näin ollen
                jatkossa GitHub toiminnot eivät vaadi tunnistautumista, ellet
                itse vaihda GitHubiin käytettäviä kirjatumistietoja tai poista
                tunnistetta tunnistetietojen hallinnasta.
              </p>
            </li>
          </ol>
        </div>
      </div>
      <!--Accordion 2. ends-->
    </li>
    <!--List item 5.-->
    <li>
      <h6>Nyt lisätty tiedosto näkyy githubissa.</h6>
      <ul>
        <li>
          Koska kyseessä oli <em>README.md</em>-tiedosto myös sen sisältö näkyy
          repositorion etusivulla.
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 5.webp"
          alt="Git Bash näkymä kansion ja tiedoston luominen"
        />
        <figcaption>Esimerkki näkymä githubissa muutoksien jälkeen</figcaption>
      </figure>
    </li>
  </ol>
  <h4>Muita hyödyllisiä toimintoja</h4>
  <p class="no-margin-bottom">
    Teoriaa gitin haaroihin (branches) liittyen käydään läpi tarkemmin osiossa
    <a class="no-line-change" href="/teamwork/branches.html#how-to-branches"
      >2.1 Tiimityö ja haarat</a
    >
    ja ne kannattaa opiskella sieltä. Alla olevat ohjeet ovat lyhyemmät
    esimerkit git haaroihin liittyvistä toiminnoista, jotta ne löytyvät helposti
    samasta paikkasta myöhempää käyttöä varten.
  </p>
  <div class="note-box">
    <ul>
      <li class="warning">
        Haarojen yhdistämistä tässä esitellyllä tavalla voi käyttää pienissä
        projekteissa ja kehitystyötä yksin tehdessä, mutta tiiminä
        työskennellessä ja isompien projektien parissa kannattaa soveltaa osion
        <a class="no-line-change" href="/teamwork/pullrequests.html">
          2.3 Pull Request </a
        >oppeja.
      </li>
    </ul>
  </div>

  <!--Accordion 3.-->
  <div
    class="accordion"
    data-include="../../accordion-element/accordion.html"
    data-title="Uuden haaran luominen komentorivillä"
  >
    <div class="contentToAccordion">
      <ol>
        <li>
          <ul>
            <li>
              Luo uusi haara komennolla:<br />
              <code>git checkout -b haaran-nimi</code>
            </li>
            <li>
              Tee tarvittavat muutokset tiedostoihin tai luo uusia tiedostoja.
            </li>
          </ul>
          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 12.webp"
              alt="Uusi haara ja tiedosto muutokset Git Bashillä."
            />
            <figcaption>
              Uusi haara ja tiedosto muutokset Git Bashillä.
            </figcaption>
          </figure>
        </li>
        <li>
          <ul>
            <li>
              Lisää tiedostot stagin-tilaan komennolla:<br />
              <code>git add .</code>
            </li>
            <li>
              Tee commit ja lisää viesti komennolla:<br />
              <code>git commit -m "commit viesti tähän"</code>
            </li>
            <li>
              Vie muutokset etärepositorioon ja luo sinne uusi haara
              komennolla:<br />
              <code>git push -u origin haaran-nimi</code>
            </li>
          </ul>

          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 13.webp"
              alt="Uuden haaran muutoksien commitointi ja vieminen etärepositorioon Git Bashillä."
            />
            <figcaption>
              Uuden haaran muutoksien commitointi ja vieminen etärepositorioon
              Git Bashillä.
            </figcaption>
          </figure>
        </li>
        <li>
          <ul>
            <li>Klikkaa haaran valintaa jossa lukee <strong>Main</strong></li>
            <li>Valitse uusi haara</li>
          </ul>
          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 14.webp"
              alt="Uusi haara GitHubissa"
            />
            <figcaption>Uusi haara GitHubissa.</figcaption>
          </figure>
          <ul>
            <li>Aukeaa näkymä luodun haaran sisällöstä.</li>
          </ul>
          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 15.webp"
              alt="Muutokset GitHubissa"
            />
            <figcaption>Muutokset GitHubissa.</figcaption>
          </figure>
        </li>
      </ol>
    </div>
  </div>
  <!--Accordion 3. ends-->
  <!--Accordion 4.-->
  <div
    class="accordion"
    data-include="../../accordion-element/accordion.html"
    data-title="Feature-haaran yhdistäminen main-haaraan"
  >
    <div class="contentToAccordion">
      <ol>
        <li>
          <ul>
            <li>
              Siirry main-haaraan komenolla:<br />
              <code>git checkout main</code> tai
              <code>git switch main</code>
            </li>
            <li>
              yhdistä etärepositorion main-haaran viimeisin tila paikalliseen
              main-haaraan komennolla:<br />
              <code>git pull origin main</code>
              <p class="note-box margin-right keep-margin">
                Jos käytit aiemmin komentoa:
                <code>git push -u origin main</code> niin nyt riittää komento:
                <code>git pull</code>
              </p>
            </li>
          </ul>
          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 16.webp"
              alt="Siirry main-haaraan ja hae sen viimeisin tila Git Bashillä."
            />
            <figcaption>
              Siirry main-haaraan ja hae sen viimeisin tila Git Bashillä.
            </figcaption>
          </figure>
        </li>
        <li>
          <ul>
            <li>
              Tuo paikallisen feature-haaran muutokset paikilliseen main haaraan
              komennolla:<br />
              <code>git merge yhdistettävän-haaran-nimi</code>
            </li>
            <p class="note-box margin-right">
              Jos konflikteja ilmenee, Git ilmoittaa ja pyytää ratkaisemaan ne
              tässä kohtaa. Tästä lisää kohdassa
              <a href="/teamwork/merge-conflicts.html">merge-konfliktit</a>
            </p>
            <li>
              Viedään muutokset etärepositorioon komennolla:<br />
              <code>git push origin main</code>
            </li>
            <p class="note-box margin-right keep-margin">
              Tässäkin riittää komento:
              <code>git push</code>, mikäli <code>-u</code> lippua on käytetty.
            </p>
          </ul>

          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 17.webp"
              alt="Uuden haaran muutoksien commitointi ja vieminen etärepositorioon Git Bashillä."
            />
            <figcaption>
              Uuden haaran muutoksien commitointi ja vieminen etärepositorioon
              Git Bashillä.
            </figcaption>
          </figure>
        </li>
      </ol>
    </div>
  </div>
  <!--Accordion 4. ends-->
</section>
