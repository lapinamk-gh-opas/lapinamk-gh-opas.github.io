<section class="git-install">
  <header>
    <h1>Gitin käyttö komentorivillä</h1>
    <p>
      Tällä sivulla opit käyttämään <strong>Gittiä komentorivillä</strong>. Ensin luomme
      <code>README.md</code> -tiedoston ja paikallisen repositorion. Sen jälkeen yhdistämme
      paikallisen repositorion
      <a href="/basics/git-install.html#create-repository">GitHub-repositorion luominen</a>
      -kappaleessa luotuun etärepositorioon.
    </p>
    <!-- Accordion element with reused content starts -->
    <div
      class="accordion"
      data-include="/accordion-element/accordion.html"
      data-title="Mistä repositoriot ja sen URL-osoite löytyvät GitHubissa">
      <div
        class="contentToAccordion reused-accordion"
        data-include="/reused-accordion-content/repository-and-url.html">
        <!-- Accordion content starts from /reused-accordion-content/repository-and-url.html-->
      </div>
    </div>
    <!-- Reusable accordion element ends -->
  </header>

  <h3>Tiedoston luonti ja repositorioiden yhdistäminen komentorivillä</h3>
  <ol class="edit-number sections">
    <!--List item 1.-->
    <li>
      <h6>Avaa Git Bash tai terminaali (macOS tai Linux)</h6>
      <ul>
        <li> Git Bash asennetaan Windowsille oletuksena Gitin asennuksen yhteydessä </li>
        <li>Avaa Git Bash Windowsin aloitusvalikosta tai etsi Git Bash</li>
      </ul>
      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/git-install/git config 1.1.webp"
          alt="Git Bash Windowsin aloitusvalikossa" />
        <figcaption>Git Bash Windowsin aloitusvalikossa</figcaption>
      </figure>

      <!--Accordion 1.-->
      <div
        class="accordion"
        data-include="../../accordion-element/accordion.html"
        data-title="Huomio Git Bashin käytöstä VS Codella">
        <!-- Reused accordion content starts -->
        <div
          class="contentToAccordion reused-accordion"
          data-include="/reused-accordion-content/git-bash-on-vscode.html">
          <!-- Accordion content starts from /reused-accordion-content/git-bash-on-vscode.html-->
        </div>
        <!-- Reused accordion content ends -->
      </div>
      <!-- Accordion 1 ends-->
    </li>
    <!--List item 2.-->
    <li>
      <h6>Luo kansio ja tiedosto testausta varten</h6>
      <ul>
        <li>
          Siirry hakemistoon, johon haluat luoda uuden kansion<br />
          <code>cd polku/valittuun/hakemistoon</code>
        </li>
        <li>
          Luo uusi kansio testausta varten<br />
          <code>mkdir kansion-nimi</code>
        </li>
        <li>
          Siirry luotuun kansioon<br />
          <code>cd kansion-nimi</code>
        </li>
        <li>
          Voit ketjuttaa komentoja käyttämällä niiden välissä <code>&&</code><br />
          esim.
          <code>cd Desktop/ && mkdir git-testaus && cd git-testaus</code>
        </li>
        <li>
          Luo vielä markdown (.md) tiedostomuodossa oleva README-tekstitiedosto uuteen kansioon<br />
          <code>echo Lisää tiedoston tekstisisältö tähän. >> README.md</code>
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 2.webp"
          alt="Kansion ja tiedoston luonti Git Bashillä" />
        <figcaption>Kansion ja tiedoston luonti Git Bashillä</figcaption>
      </figure>
    </li>
    <!--List item 3.-->
    <li>
      <h6>Luo paikallinen repositorio ja yhdistä se etärepositorioon</h6>
      <ul>
        <li>
          Luo paikallinen repositorio komennolla<br />
          <code>git init</code>
        </li>
        <li>
          Yhdistä etärepositorio paikalliseen komennolla<br />
          <code>git remote add origin https://github.com/käyttäjänimi/repositorion-nimi.git</code>
        </li>
        <li>
          Lisää tiedosto README.md välialueelle (staging) komennolla<br />
          <code>git add README.md</code>
        </li>
        <li>
          Tee ensimmäinen commit komennolla<br />
          <code>git commit -m "Ensimmäinen commit"</code>
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 3.webp"
          alt="Repon luominen, etärepoon yhdistäminen sekä
          tiedoston lisääminen ja commit Git Bashillä" />
        <figcaption>
          Repon luominen, etärepoon yhdistäminen sekä tiedoston lisääminen ja commit Git Bashillä
        </figcaption>
      </figure>
    </li>
    <!--List item 4.-->
    <li>
      <h6> Lopuksi tallenna/puske paikallisen repositorion muutokset etärepositorioon </h6>
      <ul>
        <li>
          Puske muutokset komennolla<br />
          <code>git push -u origin main</code>
        </li>
        <p class="note-box margin-right keep-margin">
          <code>-u</code> on <code>git push</code> -komennon lippu, joka asettaa paikallisen haaran
          seuraamaan vastaavaa etähaaraa. Jatkossa Git siis tietää etähaaran "kotiosoitteen" ja
          komennoksi riittää <code>git push</code> ja
          <code>git pull</code>
        </p>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 4.webp"
          alt="Muutosten vieminen etärepoon Git Bashillä" />
        <figcaption>Muutosten vieminen etärepoon Git Bashillä</figcaption>
      </figure>
      <!--Accordion 2.-->
      <div
        class="accordion"
        data-include="../../accordion-element/accordion.html"
        data-title="Ensimmäinen GitHub interaktio">
        <div class="contentToAccordion">
          <p>
            Kun teet ensimmäisen Git toiminnon joka on yhteydessä GitHubiin, pyytää GitHub
            kirjautumaan sisään.
          </p>
          <ol>
            <li>
              <p>
                Valitse <strong>Browser/Device</strong> ja klikkaa
                <strong>Sign in with your browser</strong>
              </p>

              <figure>
                <img
                  class="wide-image"
                  src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 7.webp"
                  alt="GitHub kirjautumispyyntö" />
                <figcaption>GitHub kirjautumispyyntö</figcaption>
              </figure>
            </li>
            <li>
              <p>
                Mikäli olet jo kirjautuneena GitHubiin tulee näkyviin vain tyhjä selainikkuna, jonka
                voi sulkea ja kirjautuminen on suoritettu.
              </p>
              <p>
                Jos taas näet alla olevan ikkunan, syötä käyttäjänimi tai sähköpostiosoite sekä
                salasana ja klikkaa
                <strong>Sign in</strong>
              </p>
              <figure>
                <img
                  class="wide-image"
                  src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 8.webp"
                  alt="GitHub kirjautumisikkuna" />
                <figcaption>GitHub kirjautumisikkuna</figcaption>
              </figure>
            </li>
            <li>
              <p>
                Syötä kaksivaiheiseen tunnistautumiseen käyttämäsi sovelluksen avainluku ja klikkaa
                <strong>Verify</strong>.
              </p>

              <figure>
                <img
                  class="wide-image"
                  src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 9.webp"
                  alt="GitHub kaksivaiheinen tunnistautuminen" />
                <figcaption>GitHub kaksivaiheinen tunnistautuminen</figcaption>
              </figure>
            </li>
            <li>
              <p> Kirjautuminen saattaa ehdottaa passkeyn lisäämistä tunnistautumistavaksi </p>
              <p> Lisää se halutessasi tai klikkaa <strong>Ask me later</strong> </p>

              <figure>
                <img
                  class="wide-image"
                  src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 10.webp"
                  alt="GitHub passkeyn lisääminen" />
                <figcaption>GitHub passkeyn lisääminen</figcaption>
              </figure>
            </li>
            <li>
              <p>
                Lopuksi tulee ilmoitus tunnistautumisen onnistumisesta. Tämän jälkeen selainikkunan
                voi sulkea.
              </p>

              <figure>
                <img
                  class="wide-image"
                  src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 11.webp"
                  alt="GitHub tunnistautuminen onnistui" />
                <figcaption>GitHub tunnistautuminen onnistui</figcaption>
              </figure>

              <p class="note-box">
                Tässä yhteydessä Git Credential Manager luo käyttöjärjestelmän tunnistetietojen
                hallintaan GitHubille tunnisteen. Näin ollen jatkossa GitHub toiminnot eivät vaadi
                tunnistautumista, ellet itse vaihda GitHubiin käytettäviä kirjautumistietoja tai
                poista tunnistetta tunnistetietojen hallinnasta.
              </p>
            </li>
          </ol>
        </div>
      </div>
      <!--Accordion 2. ends-->
    </li>
    <!--List item 5.-->
    <li>
      <h6>Tarkista lisätty tiedosto GitHubista</h6>
      <ul>
        <li>
          Koska kyseessä oli <em>README.md</em>-tiedosto myös sen sisältö näkyy repositorion
          etusivulla.
        </li>
      </ul>

      <figure>
        <img
          class="wide-image"
          src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 5.webp"
          alt="Näkymä GitHubissa tehtyjen muutosten jälkeen" />
        <figcaption>Näkymä GitHubissa tehtyjen muutosten jälkeen</figcaption>
      </figure>
    </li>
  </ol>
  <h3>Muita hyödyllisiä toimintoja</h3>
  <p class="no-margin-bottom">
    Teoriaa Gitin haaroihin (branches) liittyen käydään läpi tarkemmin osiossa
    <a class="no-line-change" href="/teamwork/branches.html">2.1 Tiimityö ja haarat</a>
    ja ne kannattaa opiskella sieltä. Alla olevat ohjeet ovat tiivistetyt esimerkit Git haaroihin
    liittyvistä komennoista. Täältä löydät ne helposti samasta paikasta muiden komentokehotteesta
    tehtävien peruskomentojen kanssa.
  </p>
  <div class="note-box">
    <ul>
      <li class="warning">
        Haarojen yhdistämistä tässä esitellyllä tavalla voi käyttää pienissä projekteissa ja
        kehitystyötä yksin tehdessä, mutta tiiminä työskennellessä ja isompien projektien parissa
        kannattaa soveltaa osion
        <a class="no-line-change" href="/teamwork/pullrequests.html"> 2.3 Pull Request </a>oppeja.
      </li>
    </ul>
  </div>

  <!--Accordion 3.-->
  <div
    class="accordion"
    data-include="../../accordion-element/accordion.html"
    data-title="Uuden haaran luominen komentorivillä">
    <div class="contentToAccordion">
      <ol>
        <li>
          <ul>
            <li>
              Luo uusi haara komennolla<br />
              <code>git checkout -b haaran-nimi</code>
            </li>
            <li> Tee tarvittavat muutokset tiedostoihin tai luo uusia tiedostoja. </li>
          </ul>
          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 12.webp"
              alt="Uusi haara ja tiedosto muutokset Git Bashillä" />
            <figcaption> Uusi haara ja tiedosto muutokset Git Bashillä </figcaption>
          </figure>
        </li>
        <li>
          <ul>
            <li>
              Lisää tiedostot staging-tilaan komennolla<br />
              <code>git add .</code> tai
              <code>git add uuden-tiedoston-nimi.md muutetun-tiedoston-nimi.md</code>
            </li>
            <li>
              Tee commit ja lisää viesti komennolla<br />
              <code>git commit -m "commit viesti tähän"</code>
            </li>
            <li>
              Vie muutokset etärepositorioon ja luo sinne uusi haara komennolla<br />
              <code>git push -u origin haaran-nimi</code>
            </li>
          </ul>

          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 13.webp"
              alt="Uuden haaran muutosten commitointi ja vieminen etärepositorioon Git Bashillä" />
            <figcaption>
              Uuden haaran muutosten commitointi ja vieminen etärepositorioon Git Bashillä
            </figcaption>
          </figure>
        </li>
        <li>
          <ul>
            <li>Mene selaimella GitHubiin</li>
            <li>Klikkaa haaran valintaa, jossa lukee <strong>main</strong></li>
            <li>Valitse uusi haara</li>
          </ul>
          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 14.webp"
              alt="Uusi haara GitHubissa" />
            <figcaption>Uusi haara GitHubissa</figcaption>
          </figure>
          <ul>
            <li>Tarkastele uuden haaran sisältöä</li>
          </ul>
          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 15.webp"
              alt="Muutokset GitHubissa" />
            <figcaption>Muutokset GitHubissa</figcaption>
          </figure>
        </li>
      </ol>
    </div>
  </div>
  <!--Accordion 3. ends-->
  <!--Accordion 4.-->
  <div
    class="accordion"
    data-include="../../accordion-element/accordion.html"
    data-title="Feature-haaran yhdistäminen main-haaraan">
    <div class="contentToAccordion">
      <p class="keep-margin">
        Kun olet tehnyt kehitystyötä varten luomassasi haarassa kaikki tarvittavat muutokset ja
        saanut valmiiksi uuden ominaisuuden, voit yhdistää sen päähaaraan.
      </p>
      <ol>
        <li>
          <ul>
            <li>
              Siirry main-haaraan komennolla<br />
              <code>git checkout main</code> tai
              <code>git switch main</code>
            </li>
            <li>
              Yhdistä etärepositorion main-haaran viimeisin tila paikalliseen main-haaraan
              komennolla<br />
              <code>git pull origin main</code>
              <p class="note-box margin-right keep-margin">
                Jos käytit aiemmin komentoa
                <code>git push -u origin main</code> niin nyt riittää komento
                <code>git pull</code>
              </p>
            </li>
          </ul>
          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 16.webp"
              alt="Siirtyminen main-haaraan ja sen viimeisimmän tilan hakeminen" />
            <figcaption> Siirtyminen main-haaraan ja sen viimeisimmän tilan hakeminen </figcaption>
          </figure>
        </li>
        <li>
          <ul>
            <li>
              Tuo paikallisen feature-haaran muutokset paikalliseen main-haaraan komennolla<br />
              <code>git merge yhdistettävän-haaran-nimi</code>
            </li>
            <p class="note-box margin-right">
              Jos konflikteja ilmenee Git ilmoittaa siitä ja pyytää ratkaisemaan ne. Tästä lisää
              osiossa
              <a href="/teamwork/merge-conflicts.html">2.4 merge-konfliktit</a>.
            </p>
            <li>
              Vie muutokset etärepositorioon komennolla<br />
              <code>git push origin main</code>
            </li>
            <p class="note-box margin-right keep-margin">
              Tässäkin riittää komento
              <code>git push</code>, mikäli <code>-u</code> lippua on käytetty.
            </p>
          </ul>

          <figure>
            <img
              class="wide-image"
              src="../../assets/images/basics/IDE-and-usage/terminal/Git usage terminal 17.webp"
              alt="Uuden haaran muutosten commitointi ja vieminen etärepositorioon Git Bashillä" />
            <figcaption>
              Uuden haaran muutosten commitointi ja vieminen etärepositorioon
            </figcaption>
          </figure>
        </li>
      </ol>
    </div>
  </div>
  <!--Accordion 4. ends-->
</section>
